I"3<h1 id="localdate-localtime-localdatetime">LocalDate, LocalTime, LocalDateTime</h1>
<p>Java8ë¶€í„° java.time(joda.time) apiê°€ ì¶œì‹œ ëê¸° ë•Œë¬¸ì— Java Version 8 ì´ìƒë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>

<h2 id="localdate">LocalDate</h2>
<p>ë¡œì»¬ ë‚ ì§œ í´ë˜ìŠ¤ë¡œ ë‚ ì§œ ì •ë³´ë§Œ í•„ìš”í•  ë•Œ ì‚¬ìš©, ë‚ ì§œ ì •ë³´ë§Œ ì¶œë ¥ëœë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">LocalDate</span> <span class="n">currentDate</span> <span class="o">=</span> <span class="nc">LocalDate</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="nc">LocalDate</span> <span class="n">targetDate</span> <span class="o">=</span> <span class="nc">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2019</span><span class="o">,</span><span class="mi">11</span><span class="o">,</span><span class="mi">12</span><span class="o">);</span> 
</code></pre></div></div>

<h2 id="localtime">LocalTime</h2>
<p>ë¡œì»¬ ì‹œê°„ í´ë˜ìŠ¤ë¡œ ì‹œê°„ ì •ë³´ë§Œ í•„ìš”í•  ë•Œ ì‚¬ìš©, ì‹œê°„ ì •ë³´ë§Œ ì¶œë ¥ëœë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">LocalTime</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="nc">LocalTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span> 
<span class="nc">LocalTime</span> <span class="n">targetTime</span> <span class="o">=</span> <span class="nc">LocalTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">12</span><span class="o">,</span><span class="mi">33</span><span class="o">,</span><span class="mi">35</span><span class="o">,</span><span class="mi">22</span><span class="o">);</span>
</code></pre></div></div>

<h2 id="localdatetime">LocalDateTime</h2>
<p>ë‚ ì§œì™€ ì‹œê°„ ì •ë³´ ëª¨ë‘ê°€ í•„ìš”í•  ë•Œ ì‚¬ìš©, ë‚ ì§œì™€ ì‹œê°„ì •ë³´ê°€ ì¶œë ¥ëœë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">LocalDateTime</span> <span class="n">currentDateTime</span> <span class="o">=</span> <span class="nc">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="nc">LocalDateTime</span> <span class="n">targetDateTime</span> <span class="o">=</span> <span class="nc">LocalDateTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2019</span><span class="o">,</span><span class="mi">11</span><span class="o">,</span><span class="mi">12</span><span class="o">,</span><span class="mi">12</span><span class="o">,</span><span class="mi">32</span><span class="o">,</span><span class="mi">22</span><span class="o">,</span><span class="mi">3333</span><span class="o">);</span> 
</code></pre></div></div>
<hr />

<h2 id="ì—ëŸ¬-ë°œìƒ">ì—ëŸ¬ ë°œìƒ</h2>
<p>PamStatusë¼ëŠ” Jsoní˜•ì‹ì˜ Entity ë°ì´í„°ë¥¼ HttpUrlConnectionìœ¼ë¡œ ë‹¤ë¥¸ APIì— RequestBody íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê²¨ì•¼ ë˜ëŠ” ê²½ìš°ê°€ ìˆì—ˆë‹¤. 
PamStatusë¼ëŠ” Entityì•ˆì—ëŠ” LocalDateTimeì˜ íƒ€ì…ì˜ ë³€ìˆ˜ê°€ ìˆì—ˆëŠ”ë° í˜¸ì¶œì„ ë°›ëŠ” APIì—ì„œ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ë¥¼ ë‚¨ê²¼ë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Resolved</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">converter</span><span class="o">.</span><span class="na">HttpMessageNotReadableException</span><span class="o">:</span> <span class="no">JSON</span> <span class="n">parse</span> <span class="nl">error:</span> <span class="nc">Expected</span> <span class="n">array</span> <span class="n">or</span> <span class="n">string</span><span class="o">.;</span> <span class="n">nested</span> <span class="n">exception</span> <span class="n">is</span> <span class="n">com</span><span class="o">.</span><span class="na">fasterxml</span><span class="o">.</span><span class="na">jackson</span><span class="o">.</span><span class="na">databind</span><span class="o">.</span><span class="na">exc</span><span class="o">.</span><span class="na">MismatchedInputException</span><span class="o">:</span> <span class="nc">Expected</span> <span class="n">array</span> <span class="n">or</span> <span class="n">string</span><span class="o">.</span>
<span class="n">at</span> <span class="o">[</span><span class="nl">Source:</span> <span class="o">(</span><span class="nc">PushbackInputStream</span><span class="o">);</span> <span class="nl">line:</span> <span class="mi">11</span><span class="o">,</span> <span class="nl">column:</span> <span class="mi">19</span><span class="o">]</span> <span class="o">(</span><span class="n">through</span> <span class="n">reference</span> <span class="nl">chain:</span> <span class="n">com</span><span class="o">.</span><span class="na">webhook</span><span class="o">.</span><span class="na">demo</span><span class="o">.</span><span class="na">WebhookParam</span><span class="o">[</span><span class="s">"createdDate"</span><span class="o">])]</span>
</code></pre></div></div>

<h2 id="--ì›ì¸--ì¶œì²˜--httpswwwinflearncomquestions30590">-&gt; ì›ì¸ : (ì¶œì²˜ : <a href="https://www.inflearn.com/questions/30590">https://www.inflearn.com/questions/30590</a>)</h2>
<p>ìŠ¤í”„ë§ì€ ê¸°ë³¸ì ìœ¼ë¡œ LocalDateTimeì„ ì²˜ë¦¬í•  ë•Œ ISO8601 í˜•íƒœë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë˜ì–´ ìˆìŠµë‹ˆë‹¤.(ìŠ¤í”„ë§ì´ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•˜ëŠ” Jacksonë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì„¤ì •ì„ ë‹¤ í•´ë‘” ê²ƒì´ì§€ìš”.) ê·¸ë˜ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²ƒì´ì§€ìš”.. 
ëŒ€ëµ ì½ì–´ë³´ë©´ array or stringì„ ê¸°ëŒ€í–ˆëŠ”ë°, ë§ì§€ ì•Šë‹¤ë¼ëŠ” ê²ƒì´ì§€ìš”.
ê·¸ëŸ¼ ì–´ë–»ê²Œ í•´ê²°í•´ì•¼ í•˜ëŠ”ê°€? ObjectMapperê°€ ISO8601 í˜•íƒœë¡œ ë‚ ì§œ íƒ€ì…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ì„¤ì •ì„ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.
(êµ¬ê¸€ì— ë‹¤ìŒê³¼ ê°™ì´ ê²€ìƒ‰í•˜ë©´ ë©ë‹ˆë‹¤. jackson localdate iso 8601)</p>

<p>LocalDateTimeí˜•ì‹ì€ jsonì—ì„œ ì•„ë˜ì²˜ëŸ¼ í˜•ì‹ì´ ë§Œë“¤ì–´ì§„ë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"createdDate"</span> <span class="o">:</span> <span class="o">{</span>
    <span class="s">"nano"</span> <span class="o">:</span> <span class="mi">584000000</span><span class="o">,</span>
    <span class="s">"year"</span> <span class="o">:</span> <span class="mi">2021</span><span class="o">,</span>
    <span class="s">"monthValue"</span> <span class="o">:</span> <span class="mi">4</span><span class="o">,</span>
    <span class="s">"dayOfMonth"</span> <span class="o">:</span> <span class="mi">26</span><span class="o">,</span>
    <span class="s">"hour"</span> <span class="o">:</span> <span class="mi">17</span><span class="o">,</span>
    <span class="s">"minute"</span> <span class="o">:</span> <span class="mi">25</span><span class="o">,</span>
    <span class="s">"second"</span> <span class="o">:</span> <span class="mi">50</span><span class="o">,</span>
    <span class="s">"month"</span> <span class="o">:</span> <span class="s">"APRIL"</span><span class="o">,</span>
    <span class="s">"dayOfWeek"</span> <span class="o">:</span> <span class="s">"MONDAY"</span><span class="o">,</span>
    <span class="s">"dayOfYear"</span> <span class="o">:</span> <span class="mi">116</span><span class="o">,</span>
    <span class="s">"chronology"</span> <span class="o">:</span> <span class="o">{</span>
      <span class="s">"id"</span> <span class="o">:</span> <span class="s">"ISO"</span><span class="o">,</span>
      <span class="s">"calendarType"</span> <span class="o">:</span> <span class="s">"iso8601"</span>
    <span class="o">}</span>
</code></pre></div></div>

<h2 id="--í•´ê²°-">-&gt; í•´ê²° :</h2>
<h3 id="jsoníƒ€ì…ì„-ë³´ë‚´ëŠ”-ìª½-ì„œë²„ì—ì„œ">Jsoníƒ€ì…ì„ ë³´ë‚´ëŠ” ìª½ ì„œë²„ì—ì„œ</h3>
<p>application.yaml</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">spring:</span> 
  <span class="nl">jackson:</span>
    <span class="nl">serialization:</span>
      <span class="nl">WRITE_DATES_AS_TIMESTAMPS:</span> <span class="kc">false</span>
</code></pre></div></div>

<p>pamStatus.java</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@JsonSerialize</span><span class="o">(</span><span class="n">using</span> <span class="o">=</span> <span class="nc">LocalDateTimeSerializer</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">LocalDateTime</span> <span class="n">createdDate</span><span class="o">;</span>
    <span class="nd">@JsonSerialize</span><span class="o">(</span><span class="n">using</span> <span class="o">=</span> <span class="nc">LocalDateTimeSerializer</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">LocalDateTime</span> <span class="n">updatedDate</span><span class="o">;</span>
</code></pre></div></div>

<h3 id="í˜¸ì¶œ-ë°›ëŠ”-ì„œë²„ì—ì„œ">í˜¸ì¶œ ë°›ëŠ” ì„œë²„ì—ì„œ</h3>

<p>WebhookParam.java</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@JsonDeserialize</span><span class="o">(</span><span class="n">using</span> <span class="o">=</span> <span class="nc">LocalDateTimeDeserializer</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">LocalDateTime</span> <span class="n">createdDate</span><span class="o">;</span>

    <span class="nd">@JsonDeserialize</span><span class="o">(</span><span class="n">using</span> <span class="o">=</span> <span class="nc">LocalDateTimeDeserializer</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">LocalDateTime</span> <span class="n">updatedDate</span><span class="o">;</span>
</code></pre></div></div>

<p>WebhookController.java</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">ObjectMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ObjectMapper</span><span class="o">();</span>
<span class="n">mapper</span><span class="o">.</span><span class="na">registerModule</span><span class="o">(</span><span class="k">new</span> <span class="nc">JSR310Module</span><span class="o">());</span>
<span class="n">mapper</span><span class="o">.</span><span class="na">configure</span><span class="o">(</span><span class="nc">SerializationFeature</span><span class="o">.</span><span class="na">WRITE_DATES_AS_TIMESTAMPS</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
</code></pre></div></div>

<p>ê·¸ëŸ¬ë©´ ì—ëŸ¬ ì—†ì´ ë¡œê·¸ì— ì°íŒë‹¤. ğŸ™ŒğŸ™Œ</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span> <span class="s">"transactionId"</span> <span class="o">:</span> <span class="s">"newwwwfinaltest"</span><span class="o">,</span>
  <span class="s">"pamKey"</span> <span class="o">:</span> <span class="s">"B42E99EBD61E"</span><span class="o">,</span>
  <span class="s">"scenarioName"</span> <span class="o">:</span> <span class="s">"ì‹œë‚˜ë¦¬ì˜¤ë„¤ì´ì´ì„"</span><span class="o">,</span>
  <span class="s">"equipName"</span> <span class="o">:</span> <span class="s">"eunmi"</span><span class="o">,</span>
  <span class="s">"equipCode"</span> <span class="o">:</span> <span class="mi">2086</span><span class="o">,</span>
  <span class="s">"isRunManager"</span> <span class="o">:</span> <span class="kc">true</span><span class="o">,</span>
  <span class="s">"isRunTray"</span> <span class="o">:</span> <span class="kc">true</span><span class="o">,</span>
  <span class="s">"runStatus"</span> <span class="o">:</span> <span class="s">"Ondemand"</span><span class="o">,</span>
  <span class="s">"details"</span> <span class="o">:</span> <span class="s">"ìµœì‹ !!!!!!!!!ãƒ¾(â€¢Ï‰â€¢`)oãƒ¾(â€¢Ï‰â€¢`)o~ "</span><span class="o">,</span>
  <span class="s">"createdDate"</span> <span class="o">:</span> <span class="s">"2021-04-26T17:41:08.653"</span><span class="o">,</span>
  <span class="s">"updatedDate"</span> <span class="o">:</span> <span class="s">"2021-04-26T17:41:08.653"</span><span class="o">,</span>
  <span class="s">"connectionStatus"</span> <span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
  <span class="s">"webhookUrl"</span> <span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
  <span class="s">"taskId"</span> <span class="o">:</span> <span class="s">"thisistaskId"</span>
<span class="o">}</span>
</code></pre></div></div>
:ET